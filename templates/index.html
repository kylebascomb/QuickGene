{% extends 'base.html' %}
{% block content %}
    <h1>{% block title %}Welcome to QuickGene{% endblock %}</h1>
    <form method="post">
        <div class="form-group">
            <label for="title">Nucleotide Accession ID</label>
            <input type="text" name="id"
                placeholder="ID" class="form-control"
                value="{{ request.form['id'] }}"></input>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
    </form>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
          <div><span style="color: red">{{ messages[0]}}</span><div>
      {% endif %}
    {% endwith %}
    
    <br>
    <br>
    {%if seq_info %}
    <h1>Nucleotide Sequence Information</h1>
    <br>
    <div class="list-group">
        <div  class="list-group-item ">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{ seq_info['name'] }}</h5>
          </div>
          <p class="mb-1">{{ seq_info['description'] }}</p>
          <p class="mb-1">Length: {{ seq_info['length'] }}</p>
          <a href="/{{seq_info['fasta_path']}}">
            <button class="btn btn-secondary" >Download Fasta File</button>
          </a>
        </div>
        
      </div>
      <div class="list-group">
        <div class="list-group-item ">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">Base Counts</h5>
          </div>
          <img src="{{seq_info['chart_path']}}" alt = "{{seq_info['name']}}"></img>
          <p>GC Content: {{ seq_info['gc_content']}}</p>
        </div>
        
      </div>
      <div class="list-group">
        <div class="list-group-item ">
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">Sequence</h5>
          </div>
          {% autoescape false %}
                {% for line in seq_info['seq_html']%}
                    {{line}}
                {% endfor %}
            {% endautoescape %}
        </div>
        
      </div>
      {% endif %}

        
    
{% endblock %}